var Promise=function(){var f;f=function(a){function b(a){e.resolve(a)}function c(a){e.reject(a)}var e=this;this.callbacks=[];"function"===typeof a&&a(b,c)};f.prototype={state:"pending",callbacks:null,value:null,error:null,then:function(a,b){var c=new f,e={promise:c};"function"===typeof a&&(e.fulfill=a);"function"===typeof b&&(e.reject=b);this.callbacks.push(e);this.executeCallbacks();return c},executeCallbacks:function(){function a(a){return a}function b(a){throw a;}var c=this,e,d;"pending"!==this.state&&
setTimeout(function(){for(;c.callbacks.length;){d=c.callbacks.shift();try{e="fulfilled"===c.state?(d.fulfill||a)(c.value):(d.reject||b)(c.error),d.promise.resolve(e)}catch(f){d.promise.reject(f)}}},0)},fulfill:function(a){"pending"===this.state&&arguments.length&&(this.state="fulfilled",this.value=a,this.executeCallbacks())},reject:function(a){"pending"===this.state&&arguments.length&&(this.state="rejected",this.error=a,this.executeCallbacks())},resolve:function(a){var b=this,c=a&&a.constructor===
f,e=a&&("object"===typeof a||"function"===typeof a),d=!1,g;if(b===a)b.reject(new TypeError);else if(c)"fulfilled"===a.state?b.fulfill(a.value):"rejected"===a.state?b.reject(a.error):a.then(function(a){b.resolve(a)},function(a){b.reject(a)});else if(e)try{g=a.then,"function"===typeof g?g.call(a,function(a){d||(d=!0,b.resolve(a))},function(a){d||(d=!0,b.reject(a))}):b.fulfill(a)}catch(h){d||(d=!0,b.reject(h))}else b.fulfill(a)}};f.all=function(a){var b=0,c=a.length;return new f(function(e,d){function f(a){d(a)}
function h(a,b){b.then(function(b){l[a]=b;m++;m===c&&e(l)},f)}for(var k,l=[],m=0;b<c;b++)k=a[b],h(b,k)})};return f}();"object"===typeof module&&module.exports&&(module.exports=Promise);